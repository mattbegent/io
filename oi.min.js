var oi=function(t,e){"use strict";function r(r){r||(r={}),l={formSelector:r.formSelector||t.getElementsByTagName("form"),errorHTML:r.errorHTML||'<span class="form__error-message" data-oi-id="{{id}}" role="alert">{{message}}</span>',errorPosition:r.errorPosition||"afterend",interactedClass:r.interactedClass||"field--interacted",error:r.error||e,watchInputs:r.watchInputs===e?!0:r.watchInputs};var a=t.createElement("input");if("required"in a)for(var o=0;o<l.formSelector.length;o++)i(l.formSelector[o]),l.watchInputs&&n(l.formSelector[o])}function i(t){t.noValidate=!0,t.addEventListener("submit",function(t){this.checkValidity()||(t.preventDefault(),o(this))},!0)}function a(e){var r="aria-invalid";if(e.checkValidity()){e.setAttribute(r,"false");var i=t.querySelector('[data-oi-id="'+e.id+'"]');i&&i.parentNode.removeChild(i)}else e.setAttribute(r,"true"),s(e)}function n(e){for(var r=(e||t).querySelectorAll("input, select, textarea"),i=0;i<r.length;i++)r[i].addEventListener("change",function(t){a(t.target),t.target.classList.add(l.interactedClass)},!0)}function o(t){for(var e="input:invalid, select:invalid, textarea:invalid",r=t.querySelectorAll(e),i=0;i<r.length;i++)s(r[i]),r[i].classList.add(l.interactedClass);t.querySelector(e).focus()}function s(e){var r=e.validity,i="data-msg",a=(r.valueMissing?e.getAttribute(i+"-required"):!1)||(r.typeMismatch?e.getAttribute(i+"-type"):!1)||(r.patternMismatch?e.getAttribute(i+"-pattern"):!1)||(r.patternMismatch?e.getAttribute(i+"-regex"):!1)||(r.tooShort?e.getAttribute(i+"-short"):!1)||(r.tooLong?e.getAttribute(i+"-long"):!1)||(r.customError?e.getAttribute(i+"-custom"):!1)||e.getAttribute(i)||e.validationMessage,n=t.querySelector('[data-oi-id="'+e.id+'"]');n?n.textContent=a:e.insertAdjacentHTML(l.errorPosition,c(l.errorHTML,{id:e.id,message:a})),l.error&&l.error(e)}function c(t,e){for(var r in e)t=t.replace(new RegExp("{{"+r+"}}","g"),e[r]);return t}var l={};return{init:r,validateInput:a,validateForm:o}}(document);
