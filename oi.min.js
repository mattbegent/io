var oi=function(t,e){"use strict";function r(r){r||(r={}),g={formSelector:r.formSelector||t.getElementsByTagName("form"),errorHTML:r.errorHTML||'<span class="form__error-message" data-oi-id="{{id}}" role="alert">{{message}}</span>',errorPosition:r.errorPosition||"afterend",interactedClass:r.interactedClass||"field--interacted",error:r.error,watchInputs:r.watchInputs===e?!0:r.watchInputs},"required"in t.createElement("input")&&l(g.formSelector,function(t){a(t),g.watchInputs&&o(t)})}function a(t){t.noValidate=!0,t.addEventListener("submit",function(t){var e=this;e.checkValidity()||(t.preventDefault(),s(e))},!0)}function i(e){if(n(e),"url"===e.getAttribute("type")&&c(e),e.checkValidity()){e.setAttribute(f,"false");var r=t.querySelector("["+m+'="'+e.id+'"]');r&&r.parentNode.removeChild(r)}else u(e)}function n(e){var r,a,i=!1;e.hasAttribute("data-has-match")&&(r=e,a=t.getElementById(e.getAttribute("data-has-match")),i=!0),e.hasAttribute("data-match")&&(r=t.getElementById(e.getAttribute("data-match")),a=e,i=!0),i&&r&&a&&(r.value!==a.value?(a.setCustomValidity(a.getAttribute(h+"-match")),u(a)):a.setCustomValidity(""))}function o(e){for(var r=(e||t).querySelectorAll("input, select, textarea"),a=0;a<r.length;a++)r[a].addEventListener("change",function(t){var e=t.target;i(e),e.classList.add(g.interactedClass)},!0)}function s(t){var e="input:invalid, select:invalid, textarea:invalid",r=t.querySelectorAll("[data-match]");l(r,function(t){n(t)});var a=t.querySelectorAll(e);l(a,function(t){u(t),t.classList.add(g.interactedClass)}),a.length>0&&a[0].focus()}function u(e){e.setAttribute(f,"true");var r=e.validity,a=(r.valueMissing?e.getAttribute(h+"-required"):!1)||(r.typeMismatch?e.getAttribute(h+"-type"):!1)||(r.patternMismatch?e.getAttribute(h+"-pattern"):!1)||(r.patternMismatch?e.getAttribute(h+"-regex"):!1)||(r.tooShort?e.getAttribute(h+"-short"):!1)||(r.tooLong?e.getAttribute(h+"-long"):!1)||(r.customError?e.getAttribute(h+"-custom"):!1)||e.getAttribute(h)||e.validationMessage,i=t.querySelector("["+m+'="'+e.id+'"]');i?i.textContent=a:e.insertAdjacentHTML(g.errorPosition,d(g.errorHTML,{id:e.id,message:a})),g.error&&g.error(e)}function c(t){var e=t.value;e&&-1===e.search(/^http[s]?\:\/\//)&&(e="http://"+e),t.value=e}function l(t,e){for(var r=0,a=t.length;a>r;r++)e(t[r])}function d(t,e){for(var r in e)t=t.replace(new RegExp("{{"+r+"}}","g"),e[r]);return t}var g={},m="data-oi-id",f="aria-invalid",h="data-msg";return{init:r,validateInput:i,validateForm:s}}(document);