var oi=function(t,e){"use strict";function a(a){a=a||{},v={formSelector:a.formSelector||t.getElementsByTagName("form"),errorHTML:a.errorHTML||'<span class="oi-message" '+g+'="{{id}}" role="alert">{{message}}</span>',errorPosition:a.errorPosition||"afterend",interactedClass:a.interactedClass||"oi-has-interacted",onInvalid:a.onInvalid,onValid:a.onValid,watchInputs:a.watchInputs===e?!0:a.watchInputs},"required"in t.createElement("input")&&c(v.formSelector,function(t){i(t),v.watchInputs&&o(t)})}function i(t){t.noValidate=!0,t.addEventListener("submit",function(t){var e=this;e.checkValidity()||(t.preventDefault(),s(e))},!0)}function r(e){if(n(e),"url"===e.getAttribute("type")&&l(e),e.checkValidity()){e.setAttribute(h,"false");var a=t.querySelector("["+g+'="'+e.id+'"]');a&&a.parentNode.removeChild(a),v.onValid&&v.onValid(e)}else u(e)}function n(e){var a,i,r=!1;e.hasAttribute("data-has-match")&&(a=e,i=t.getElementById(e.getAttribute("data-has-match")),r=!0),e.hasAttribute("data-match")&&(a=t.getElementById(e.getAttribute("data-match")),i=e,r=!0),r&&a&&i&&(a.value!==i.value?(i.setCustomValidity(i.getAttribute(m+"-match")),u(i)):i.setCustomValidity(""))}function o(e){var a=(e||t).querySelectorAll("input, select, textarea");c(a,function(t){t.addEventListener("change",function(t){var e=t.target;r(e),e.classList.add(v.interactedClass)},!0)})}function s(t){var e="input:invalid, select:invalid, textarea:invalid",a=t.querySelectorAll("[data-match]");c(a,function(t){n(t)});var i=t.querySelectorAll(e);c(i,function(t){u(t),t.classList.add(v.interactedClass)}),i.length>0&&i[0].focus()}function u(e){e.setAttribute(h,"true");var a=e.validity,i=(a.valueMissing?e.getAttribute(m+"-required"):!1)||(a.typeMismatch?e.getAttribute(m+"-type"):!1)||(a.patternMismatch?e.getAttribute(m+"-pattern"):!1)||(a.patternMismatch?e.getAttribute(m+"-regex"):!1)||(a.tooShort?e.getAttribute(m+"-short"):!1)||(a.tooLong?e.getAttribute(m+"-long"):!1)||(a.customError?e.getAttribute(m+"-custom"):!1)||e.getAttribute(m)||e.validationMessage,r=t.querySelector("["+g+'="'+e.id+'"]');r?r.textContent=i:e.insertAdjacentHTML(v.errorPosition,d(v.errorHTML,{id:e.id,message:i})),v.onInvalid&&v.onInvalid(e)}function l(t){var e=t.value;e&&-1===e.search(/^http[s]?\:\/\//)&&(e="http://"+e),t.value=e}function c(t,e){for(var a=0,i=t.length;i>a;a++)e(t[a])}function d(t,e){for(var a in e)t=t.replace(new RegExp("{{"+a+"}}","g"),e[a]);return t}var v={},g="data-oi-id",h="aria-invalid",m="data-msg";return{init:a,validateInput:r,validateForm:s}}(document);