var oi=function(t,e){"use strict";function r(r){r||(r={}),d={formSelector:r.formSelector||t.getElementsByTagName("form"),errorHTML:r.errorHTML||'<span class="form__error-message" data-oi-id="{{id}}" role="alert">{{message}}</span>',errorPosition:r.errorPosition||"afterend",interactedClass:r.interactedClass||"field--interacted",error:r.error,watchInputs:r.watchInputs===e?!0:r.watchInputs},"required"in t.createElement("input")&&c(d.formSelector,function(t){a(t),d.watchInputs&&o(t)})}function a(t){t.noValidate=!0,t.addEventListener("submit",function(t){var e=this;e.checkValidity()||(t.preventDefault(),s(e))},!0)}function i(e){if(n(e),e.checkValidity()){e.setAttribute(m,"false");var r=t.querySelector("["+g+'="'+e.id+'"]');r&&r.parentNode.removeChild(r)}else u(e)}function n(e){var r,a,i=!1;e.hasAttribute("data-has-match")&&(r=e,a=t.getElementById(e.getAttribute("data-has-match")),i=!0),e.hasAttribute("data-match")&&(r=t.getElementById(e.getAttribute("data-match")),a=e,i=!0),i&&r&&a&&(r.value!==a.value?(a.setCustomValidity(a.getAttribute("data-msg-match")),u(a)):a.setCustomValidity(""))}function o(e){for(var r=(e||t).querySelectorAll("input, select, textarea"),a=0;a<r.length;a++)r[a].addEventListener("change",function(t){var e=t.target;i(e),e.classList.add(d.interactedClass)},!0)}function s(t){var e="input:invalid, select:invalid, textarea:invalid",r=t.querySelectorAll("[data-match]");c(r,function(t){n(t)});var a=t.querySelectorAll(e);c(a,function(t){u(t),t.classList.add(d.interactedClass)}),a.length>0&&a[0].focus()}function u(e){e.setAttribute(m,"true");var r=e.validity,a="data-msg",i=(r.valueMissing?e.getAttribute(a+"-required"):!1)||(r.typeMismatch?e.getAttribute(a+"-type"):!1)||(r.patternMismatch?e.getAttribute(a+"-pattern"):!1)||(r.patternMismatch?e.getAttribute(a+"-regex"):!1)||(r.tooShort?e.getAttribute(a+"-short"):!1)||(r.tooLong?e.getAttribute(a+"-long"):!1)||(r.customError?e.getAttribute(a+"-custom"):!1)||e.getAttribute(a)||e.validationMessage,n=t.querySelector("["+g+'="'+e.id+'"]');n?n.textContent=i:e.insertAdjacentHTML(d.errorPosition,l(d.errorHTML,{id:e.id,message:i})),d.error&&d.error(e)}function c(t,e){for(var r=0,a=t.length;a>r;r++)e(t[r])}function l(t,e){for(var r in e)t=t.replace(new RegExp("{{"+r+"}}","g"),e[r]);return t}var d={},g="data-oi-id",m="aria-invalid";return{init:r,validateInput:i,validateForm:s}}(document);
